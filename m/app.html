<style>@import url('/m/app.css');</style>

<nav class="nav_bar">
  <div data-role="title" style="font-weight:900; font-size:1.4rem; color:var(--sec);">실버콕 관리자</div>
  <div style="display:flex; gap:10px;">
    <button class="btn_pill" data-action="plan">📅 주간 계획안</button>
    <button class="btn_pill" data-action="calendar">🗓️ 전체 달력</button>
    <button class="btn_pill" data-action="logout" style="background:#fff; border:1px solid #ddd;">로그아웃</button>
  </div>
</nav>

<main class="app_content">
  </main>

<template id="t_profile_select">
  <div style="text-align:center; margin-bottom:2.5rem;">
    <h2 style="font-size:2rem; font-weight:800; color:var(--sec);">어르신을 선택해주세요</h2>
    <p style="color:var(--text-sub);">오늘 활동을 진행할 파트너를 선택합니다.</p>
  </div>
  
  <div class="grid_4 profile-grid">
    <button class="card_box" style="border: 2px dashed #CBD5E0; box-shadow:none;" data-action="add_elder">
      <div style="font-size:3rem; color:#A0AEC0; margin-bottom:10px;">+</div>
      <strong style="color:#A0AEC0;">신규 등록</strong>
    </button>
  </div>
</template>

<template id="t_profile_add">
  <div style="max-width:500px; margin:0 auto;">
    <div class="card_box">
      <h2 style="margin-bottom:2rem; color:var(--sec);">신규 어르신 등록</h2>
      
      <div data-action="trigger_file" style="cursor:pointer; margin-bottom:1.5rem; display:inline-block;">
        <img id="preview_img" src="https://via.placeholder.com/150?text=사진등록" style="width:140px; height:140px; border-radius:50%; object-fit:cover; border:4px solid #f1f1f1;">
        <p style="font-size:0.9rem; color:var(--pri); margin-top:10px;">📸 사진을 눌러 추가하세요</p>
      </div>
      <input type="file" id="elder_file" class="hidden" onchange="handleFile(this)" accept="image/*">
      
      <div style="text-align:left; margin-bottom:2rem;">
        <label style="display:block; font-weight:800; margin-bottom:0.5rem;">성함</label>
        <input type="text" id="elder_name_input" placeholder="성함을 입력하세요" style="width:100%; padding:1rem; border-radius:12px; border:2px solid #eee; font-size:1rem;">
      </div>

      <div style="display:flex; gap:10px;">
        <button class="btn_pill" data-action="home" style="flex:1;">취소</button>
        <button class="btn_pill" data-action="save_elder" style="flex:2; background:var(--pri); color:#fff;">등록 완료</button>
      </div>
    </div>
  </div>
</template>

<template id="t_person_home">
  <div class="layout_sidebar">
    <aside class="card_box" style="padding: 2.5rem 1.5rem; border-top: 8px solid var(--pri);">
      <img src="" data-bind="elder_img" style="width:140px; height:140px; border-radius:50%; object-fit:cover; margin:0 auto 1.5rem;">
      <h3 data-bind="elder_name" style="font-size:1.8rem; font-weight:800; margin-bottom:0.5rem;">이름</h3>
      <span style="background:rgba(237,102,99,0.1); color:var(--pri); padding:5px 12px; border-radius:10px; font-weight:700;">오늘의 파트너</span>
      
      <div style="margin-top:2.5rem; display:flex; flex-direction:column; gap:10px;">
        <button class="btn_pill" data-action="view_weekly" style="background:var(--sec); color:#fff;">주간 스케줄</button>
        <button class="btn_pill" data-action="view_monthly">월간 리포트</button>
        <button class="btn_pill" data-action="home" style="margin-top:2rem; font-size:0.9rem;">↩ 어르신 변경</button>
      </div>
    </aside>

    <div class="home_main">
      <div class="view_weekly">
        <h3 style="margin-bottom:1.5rem; font-size:1.4rem;">오늘의 추천 활동</h3>
        <div class="grid_2">
          <button class="menu_item primary" data-action="open_today_cog">
            <div>
              <strong>오늘의 인지콕</strong>
              <p>매일 새로운 두뇌 훈련</p>
            </div>
            <div style="text-align:right; font-size:2rem;">🧠</div>
          </button>
          <button class="menu_item" data-action="open_review">
            <div>
              <strong>인지콕 복습</strong>
              <p>지난 활동 다시 보기</p>
            </div>
            <div style="text-align:right; font-size:2rem;">↺</div>
          </button>
        </div>
      </div>

      <div class="view_monthly hidden">
        <div class="card_box">
          <h3 style="margin-bottom:1rem;">월간 활동 현황</h3>
          <div style="height:300px; background:#f8f9fa; border-radius:12px; display:flex; align-items:center; justify-content:center; border:2px dashed #ddd;">
            (월간 캘린더 컴포넌트가 들어갈 자리)
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template id="t_content_list">
  <div style="margin-bottom:2rem; display:flex; justify-content:space-between; align-items:center;">
    <h2 data-bind="list_title" style="font-size:1.8rem; font-weight:800; color:var(--sec);">활동 목록</h2>
    <button class="btn_pill" data-action="back_to_person">↩ 뒤로가기</button>
  </div>
  
  <div class="grid_2 content_grid">
    </div>
</template>

<template id="t_content_player">
  <div id="player_area" style="background:#000; border-radius:24px; width:100%; aspect-ratio:16/9; overflow:hidden; box-shadow:var(--shadow);">
    </div>
  <div style="display:flex; justify-content:center; gap:20px; margin-top:2.5rem;">
    <button class="btn_pill" data-action="close_play" style="padding:1rem 3rem;">종료하기</button>
    <button class="btn_pill" data-action="done_content" style="padding:1rem 4rem; background:var(--pri); color:#fff;">활동 완료</button>
  </div>
</template>